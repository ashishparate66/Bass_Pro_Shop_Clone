"undefined"!=typeof MessageHelper&&MessageHelper&&MessageHelper.topicNamespace||(MessageHelper={messages:{},identifier:"",tooltip:null,focusElement:"",getCurrentYear:function(){return(new Date).getFullYear()},getCurrentMonth:function(){return(new Date).getMonth()+1},getCurrentDay:function(){return(new Date).getDate()},getRenderContextProperty:function(e,t){if(console.debug("enter getRenderContextProperty with propertyName = "+t),null==e)return console.debug("context is null. Return null..."),null;var o=e.properties[t];return console.debug("the found property value is: "+o),o},setMessage:function(e,t){this.messages[e]=t},setFocusElement:function(e){this.focusElement=e},showHideMessageArea:function(e){cursor_clear(),null!=e&&void 0!=e||(e=0);var t=dojo.byId("MessageArea"),o=new Array;o.node=t,o.duration=200,o.delay=0,dojo.style(t,"opacity",0),null!=dijit.byId("MessageArea_ACCE_Title")&&(dijit.byId("MessageArea_ACCE_Title").style.display="block"),dojo.style(t,"display","block"),dojo.fadeIn(o).play(),null!=document.getElementById("bps_opc_main_div")&&(document.getElementsByTagName("body")[0].style.overflow="hidden")},hideMessageArea:function(){cursor_clear(),document.getElementsByTagName("body")[0].style.overflow="auto";var e="";null!=dojo.byId(this.focusElement)&&(e=dojo.byId(this.focusElement));var t=dojo.byId("MessageArea"),o=new Array;o.node=t,o.duration=500,o.onEnd=function(){dojo.style(t,"display","none"),null!=dijit.byId("MessageArea_ACCE_Title")&&(dijit.byId("MessageArea_ACCE_Title").style.display="none"),dojo.style(t,"opacity",100),null!=dojo.byId(e)&&e.focus()},dojo.fadeOut(o).play(),dojo.byId("firearms_error").style.display="none",dojo.byId("ErrorMessageText").innerHTML="",this.focusElement=""},displayErrorMessage:function(e,t,o){null!=t&&void 0!=t||(t=0);var r=!1;(null==e.errorMessageKey||"gunInCart"!=e.errorMessageKey&&"dropShipOrGiftInCart"!=e.errorMessageKey&&"corrupted"!=e.errorMessageKey&&"shipToStoreOnlyCart"!=e.errorMessageKey&&"shipToAddressOnlyCart"!=e.errorMessageKey||(r=!0),void 0!=o&&null!=o&&1!=o||r)||null!=this.messages.ERROR_MESSAGE_TYPE&&"undefined"!=this.messages.ERROR_MESSAGE_TYPE&&(e=this.messages.ERROR_MESSAGE_TYPE+e);if(this.setMessageAreaStyle(""),r){dojo.byId("firearms_error").style.display="block",this.setMessageAreaStyle("error_icon");for(var n=e.errorMessageParam,s=dojo.fromJson(n[0]),i=[],d=[],a=[],l=0;l<s.itemsToBeAddedList.length;l++)i.push(s.itemsToBeAddedList[l].catEntryId),d.push(s.itemsToBeAddedList[l].quantity),a.push(s.itemsToBeAddedList[l].name);for(var c=[],u=0;u<s.conflictingList.length;u++)c.push(s.conflictingList[u].orderItemId);if(dojo.attr("error-continue","data-orderitems",c),dojo.attr("error-continue","data-errortype",e.errorMessageKey),"gunInCart"==e.errorMessageKey)dojo.attr("error-continue","data-names",a),dojo.attr("error-continue","data-catentryid",i),dojo.attr("error-continue","data-quantity",d),dojo.byId("message_guns_in_cart").style.display="block",dojo.byId("message_items_in_cart").style.display="none",dojo.byId("message_shipping_conflict").style.display="none",MessageHelper.populatePopupItemLists("guns_in_cart","item_to_add",s,a),e=this.messages.ERROR_GUN_IN_CART;else if("shipToStoreOnlyCart"==e.errorMessageKey)dojo.attr("error-continue","data-names",a),dojo.attr("error-continue","data-catentryid",i),dojo.attr("error-continue","data-quantity",d),"undefined"!=typeof shoppingActionsJS&&""!=shoppingActionsJS.subscriptionFrequency&&dojo.byId("pdp_delivery_frequency")&&dojo.byId("subscription_radio").checked&&dojo.attr("error-continue","data-frequency",shoppingActionsJS.subscriptionFrequency),dojo.byId("message_shipping_conflict").style.display="block",dojo.byId("message_guns_in_cart").style.display="none",dojo.byId("message_items_in_cart").style.display="none",MessageHelper.populatePopupItemLists("conflict_items_in_cart","conflict_items_to_add",s,a),e=this.messages.ERROR_SHIP_TO_STORE_CART;else if("shipToAddressOnlyCart"==e.errorMessageKey)dojo.attr("error-continue","data-names",a),dojo.attr("error-continue","data-catentryid",i),dojo.attr("error-continue","data-quantity",d),dojo.byId("message_shipping_conflict").style.display="block",dojo.byId("message_guns_in_cart").style.display="none",dojo.byId("message_items_in_cart").style.display="none",MessageHelper.populatePopupItemLists("conflict_items_in_cart","conflict_items_to_add",s,a),e=this.messages.ERROR_SHIP_TO_ADDRESS_CART;else if("dropShipOrGiftInCart"==e.errorMessageKey||"corrupted"==e.errorMessageKey){dojo.attr("error-continue","data-catentryid",dojo.byId("catEntryId").value),dojo.attr("error-continue","data-quantity",dojo.byId("quantity").value),dojo.byId("message_items_in_cart").style.display="block",dojo.byId("message_guns_in_cart").style.display="none",dojo.byId("message_shipping_conflict").style.display="none";var y=document.getElementById("items_in_cart");y.innerHTML="";for(u=0;u<s.conflictingList.length;u++){var p=document.createElement("li");p.appendChild(document.createTextNode(s.conflictingList[u].name)),y.appendChild(p)}var m=document.getElementById("gun_to_add");m.innerHTML="";var g=document.createElement("li");g.appendChild(document.createTextNode(dojo.byId("productName").value)),m.appendChild(g),e=this.messages.ERROR_ITEM_IN_CART}dojo.byId("ErrorMessageText").innerHTML=e,document.getElementById("msgpopup_content_wrapper").classList.add("content"),disableBodyScroll()}else if("checkoutInfo"==e.errorMessageKey){document.getElementById("bp-alert-error")&&bpAlerts.destroyAlert(document.getElementById("bp-alert-error")),document.getElementById("msgpopup_content_wrapper").classList.remove("content"),document.getElementById("msgpopup_content_wrapper").style.margin="5%",bpAlerts.createAlert("","MessageArea","append","checkout-info","",e.infoMsg,"true"),document.getElementById("msgpopup_content_wrapper").getElementsByClassName("close_text")[0].style.display="none"}else if("clubprescreenerror"==e.errorMessageKey){document.getElementById("bp-alert-error")&&bpAlerts.destroyAlert(document.getElementById("bp-alert-error")),document.getElementById("msgpopup_content_wrapper").classList.remove("content"),document.getElementById("msgpopup_content_wrapper").style.margin="5%",bpAlerts.createAlert("prescreen-error-alert","MessageArea","append","error","",e.infoMsg,"true"),document.getElementById("MessageArea")&&document.getElementById("MessageArea").classList.add("prescreen-error-alert"),document.getElementById("prescreen-error-alert")&&(document.getElementById("prescreen-error-alert").querySelector(".bp-alert-close").addEventListener("click",function(){cursor_clear(),document.getElementById("grayOut")&&hideElementById("grayOut"),document.getElementById("grayOutAltP")&&hideElementById("grayOutAltP"),document.getElementById("MessageArea")&&document.getElementById("MessageArea").classList.remove("prescreen-error-alert")}),document.getElementById("prescreen-error-alert").querySelector(".bp-alert-close").addEventListener("keypress",function(){cursor_clear(),document.getElementById("grayOut")&&hideElementById("grayOut"),document.getElementById("grayOutAltP")&&hideElementById("grayOutAltP"),document.getElementById("MessageArea")&&document.getElementById("MessageArea").classList.remove("prescreen-error-alert")})),document.getElementById("msgpopup_content_wrapper").getElementsByClassName("close_text")[0].style.display="none"}else{document.getElementById("bp-alert-error")&&bpAlerts.destroyAlert(document.getElementById("bp-alert-error")),document.getElementById("msgpopup_content_wrapper").classList.remove("content"),document.getElementById("msgpopup_content_wrapper").style.margin="5%",bpAlerts.createAlert("","MessageArea","append","error","",e,"true"),document.getElementById("msgpopup_content_wrapper").getElementsByClassName("close_text")[0].style.display="none"}this.showHideMessageArea(t),dojo.byId("clickableErrorMessageImg").focus(),setTimeout(function(){null!=dojo.byId("ErrorMessageText")&&dojo.byId("ErrorMessageText").focus()},1e3),addErrorRecord("1","Global",e)},populatePopupItemLists:function(e,t,o,r){var n=document.getElementById(e);n.innerHTML="";for(var s=0;s<o.conflictingList.length;s++){var i=document.createElement("li");i.appendChild(document.createTextNode(o.conflictingList[s].name)),n.appendChild(i)}var d=document.getElementById(t);d.innerHTML="";for(var a=0;a<r.length;a++){var l=document.createElement("li");l.appendChild(document.createTextNode(r[a])),d.appendChild(l)}},setMessageAreaStyle:function(e){dojo.byId("success_icon").style.display="none",dojo.byId("error_icon").style.display="none",null!=dojo.byId(e)&&(dojo.byId(e).style.display="inline")},displayStatusMessage:function(e,t){null!=t&&void 0!=t||(t=0),this.setMessageAreaStyle("success_icon"),dojo.byId("ErrorMessageText").innerHTML=e,this.showHideMessageArea(t),dojo.byId("clickableErrorMessageImg").focus(),setTimeout(function(){null!=dojo.byId("ErrorMessageText")&&dojo.byId("ErrorMessageText").focus()},1e3)},hideAndClearMessage:function(){dojo.byId("ErrorMessageText").innerHTML="",dojo.byId("MessageArea").style.display="none",dojo.byId("firearms_error").style.display="none"},adjustCoordinates:function(e){if("none"!=dojo.style("MessageArea","display")){var t=dojo.byId("page"),o=dojo.byId("MessageArea");if(null!=t&&null!=o){var r=dojo.coords(t,!0),n=r.w;dojo.isSafari&&(n=dojo.style("page","width")),null!=e&&void 0!=e||(e=0),dojo.style(o,{width:n+20+"px",left:r.x-10+"px",top:r.y+e+"px"})}}},formErrorHandle:function(e,t){this.formErrorHandleClient(e.errorMessageParam,e.errorMessage)},createErrorBelowField:function(e,t,o,r){dojo.query(".validation-failed-msg").forEach(dojo.destroy),this.removeErrorBelowField(e,t,r),$(".validation-failed-msg").remove(),$("input").removeClass("input-error"),$("select").removeClass("input-error"),$("#"+e).parent().find("input").addClass("input-error"),$("#"+e).parent().find("select").addClass("input-error"),null!=r&&void 0!=r?(dojo.addClass(dojo.byId(r).querySelector("#"+e),"validation-failed-field"),dojo.place("<div class='validation-failed-msg'>"+t+"</div>",dojo.byId(r).querySelector("#"+e),"after")):$("#"+e).parent().append("<div class='validation-failed-msg'>"+t+"</div>"),$("#"+e).addClass("validation-failed-field"),$("#"+e).focus()},removeErrorBelowField:function(e,t,o){$(".validation-failed-msg").parent().find("input").removeClass("input-error"),dojo.query(".validation-failed-field").removeClass("validation-failed-field"),null!=o&&void 0!=o&&dojo.removeClass(dojo.byId(o).querySelector("#"+e),"validation-failed-field"),$("#"+e).parent().next(".validation-failed-msg").empty(),$("#"+e).removeClass("validation-failed-field")},displayMessageBlock:function(e,t,o){$(e).css({display:"flex"}),$(e+"-body div.bp-alert-text").html(t);var r=$(e).offset().top-o;$(window).scrollTop(r)},formErrorHandleClient:function(e,t,o,r){if(r)var n=dojo.byId(r).querySelector("#"+e);else n=dojo.byId(e);if(null!=t){if(n){if(dojo.has("ios"))this.setMessageAreaStyle("error_icon"),dojo.byId("MessageArea").style.display="block",dojo.byId("ErrorMessageText").innerHTML=t,window.setTimeout(function(){window.scrollTo(0,0)},0);else if(this.identifier!=e+"_tooltip"){n.focus(),this.identifier=e+"_tooltip";var s=document.createElement("span"),i=getImageDirectoryPath();dojo.isIE<7?s.innerHTML=t+"<iframe id='errorMessageIFrame' scrolling='no' frameborder='0' src='"+i+"images/empty.gif'></iframe>":s.innerHTML=t;var d=dojo.some(["ar","he","iw"],function(e){return e===dojo.attr(dojo.body().parentNode,"lang")});if(dojo.has("touch")){var a=this;setTimeout(function(){var o=new dijit.Tooltip({connectId:[e],position:["after-centered","before-centered","below","above"],dir:d},s);o.startup(),console.log("created with delay",o,o.id);var r=document.createElement("div");r.setAttribute("class","spanacce"),r.setAttribute("role","alert"),r.setAttribute("id","alert");var i=document.createTextNode(t);r.appendChild(i),document.body.appendChild(r),n.setAttribute("aria-invalid","true"),o.open(n),dojo.connect(n,"onblur",o,"close"),dojo.connect(n,"onblur",o,"destroy"),dojo.connect(n,"onblur",a,"clearCurrentIdentifier"),o._onMouseOver=a.emptyFunc,a.tooltip=o},1e3)}else{if(o)var l=new dijit.Tooltip({connectId:[e],dir:d,position:[o],class:"myClassName"},s);else l=new dijit.Tooltip({connectId:[e],dir:d},s);l.startup(),console.log("created",l,l.id);var c=document.createElement("div");c.setAttribute("class","spanacce bps_tooltip_error"),c.setAttribute("role","alert"),c.setAttribute("id","alert");var u=document.createTextNode(t);c.appendChild(u),document.body.appendChild(c),n.setAttribute("aria-invalid","true"),l.open(n),dojo.connect(n,"onblur",l,"close"),dojo.connect(n,"onblur",l,"destroy"),dojo.connect(n,"onblur",this,"clearCurrentIdentifier"),l._onMouseOver=this.emptyFunc,this.tooltip=l}}addErrorRecord("3",n.id,t)}}else console.debug("formErrorHandleClient: The error message is null.")},hideFormErrorHandle:function(){null!=this.tooltip&&(this.tooltip.destroyRecursive(),this.tooltip=null,this.clearCurrentIdentifier())},clearCurrentIdentifier:function(){this.identifier=""},emptyFunc:function(e){},containsDoubleByte:function(e){for(var t=new String(e),o=0;o<t.length;o++)if(chr=t.charCodeAt(o),chr>127)return!0;return!1},isValidEmail:function(e){return e=e.trim(),!this.containsDoubleByte(e)&&(0==e.length||!(e.length<5)&&(!(e.indexOf(" ")>0)&&(!(e.indexOf("@")<1)&&(!(e.lastIndexOf(".")<e.indexOf("@")+2)&&(!(e.lastIndexOf(".")>=e.length-2)&&!!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(e))))))},isValidUTF8length:function(e,t){return!(this.utf8StringByteLength(e)>t)},utf8StringByteLength:function(e){if(null===e)return 0;var t=String(e),o=t.length;for(i=0;i<t.length;i++)chr=t.charCodeAt(i),chr>127&&(o+=1),chr>2047&&(o+=1);return o},IsNumeric:function(e,t){if(t)var o="0123456789.";else o="0123456789";var r,n=!0;for(i=0;i<e.length&&1==n;i++)r=e.charAt(i),-1==o.indexOf(r)&&(n=!1);return n},IsValidPhone:function(e){var t,o=!0;for(i=0;i<e.length&&1==o;i++)t=e.charAt(i),-1=="0123456789-".indexOf(t)&&(o=!1);return o},showConfirmationDialog:function(e,t,o){require(["dijit/registry","dojo/dom","dojo/on","dojo/topic","dojo/_base/event"],function(r,n,s,i){o&&(n.byId("confirmationPopup_header").innerHTML=o),n.byId("confirmationPopupMessage").innerHTML=t;var d=r.byId("confirmationPopup");d._signalYes=s(n.byId("confirmationPopupYES"),"click",function(t){t.preventDefault(),void 0!==d._signalYes&&null!==d._signalYes&&d._signalYes.remove(),void 0!==d._signalNo&&null!==d._signalNo&&d._signalNo.remove(),d.hide(),i.publish(e,{action:"YES"})}),d._signalNo=s(n.byId("confirmationPopupNO"),"click",function(t){t.preventDefault(),void 0!==d._signalYes&&null!==d._signalYes&&d._signalYes.remove(),void 0!==d._signalNo&&null!==d._signalNo&&d._signalNo.remove(),d.hide(),i.publish(e,{action:"NO"})}),d.show()})},bpsDisplayItemShipRestriction:function(e){var t="";if(e.orderError&&(t=e.orderError,analyticsLayersJS.addRestrictionError("Order",e.orderError)),e.itemError){var o=[],r=e.skuArray.split("|");for(i=0;i<e.itemError.length;i++){var n="",s=e.itemError[i].split("|err|");if(0==o.length||!o.includes(s[0])){if(o.push(s[0]),void 0!=s[2]&&s[1].includes("|CiN|")){var d=s[2];for(j=i+1;j<e.itemError.length;j++)e.itemError[j].split("|err|")[0]==s[0]&&(d.includes(e.itemError[j].split("|err|")[2])||(d+=e.itemError[j].split("|err|")[2]));n=(n=(n=(n=s[1].replace("|CiN|",d)).replace("|CiN|",'<ul class="restricted_error"><li>')).substring(0,n.lastIndexOf("|CiN|"))+"</li></ul>"+n.substring(n.lastIndexOf("|CiN|")+5)).replace(/\|CiN\|\|CiN\|/g,"</li><li>")}else n=s[1];""!=t&&""!=n&&(t+="<hr>"),t+=n}analyticsLayersJS.addRestrictionError("Line",s[i],r[i])}}""!=t&&MessageHelper.displayErrorMessage(t)},enableAddButton:function(){dojo.byId("submit-btn")&&(dojo.byId("submit-btn").disabled="")},storeSelectedItemIdToSession:function(e){"undefined"!=typeof Storage&&(selectedItemYOffset=window.scrollY||window.pageYOffset,localStorage.setItem("userSelectedItemId",selectedItemYOffset))},storeSelectedProductReference:function(e){var t=document.getElementById("catalogEntry_img"+e);null!=t&&window.innerWidth<=599&&(window.location.href=t.getAttribute("href"))},removeBPSAlertErrorId:function(){var e=document.getElementById("bp-alert-error");null!=e&&void 0!==e&&document.getElementById("bp-alert-error").remove()},giftCardHelpClose:function(){cursor_clear();var e=document.getElementById("BPS_gift_card_help_container");null!=e&&void 0!==e&&"block"==e.style.display&&(e.style.display="none",document.body.classList.remove("no-overflow"))},bpsGiftCardHelpOverlay:function(){var e=document.getElementById("BPS_gift_card_help_container"),t=document.getElementById("gc-image-tabs").getElementsByTagName("a");(window.innerWidth>0?window.innerWidth:screen.width)<=100?(t[0].innerHTML="Bass Pro Shops",t[1].innerHTML="   Cabela's   ",null!=document.getElementById("gc-mobile-header")&&"none"==document.getElementById("gc-mobile-header").style.display&&(document.getElementById("gc-mobile-header").style.display="block"),null!=e&&void 0!==e&&"none"==e.style.display&&(e.style.width="100%",e.style.display="block")):(t[0].innerHTML="Bass Pro Shops Gift Cards",t[1].innerHTML="Cabela's Gift Cards",null!=e&&void 0!==e&&("none"==e.style.display&&(cursor_wait(),e.style.display="block",e.style.width="260%",document.body.classList.add("no-overflow")),null!=document.getElementById("gc-mobile-header")&&"block"==document.getElementById("gc-mobile-header").style.display&&(document.getElementById("gc-mobile-header").style.display="none")))},bpsGiftCardImageToggle:function(e){"bps"==e?(document.getElementById("gift-card-bps-image").style.display="block",document.getElementById("gift-card-cab-image").style.display="none",dojo.addClass("bps-gc-image-tab-button","selected"),dojo.removeClass("cab-gc-image-tab-button","selected")):(document.getElementById("gift-card-bps-image").style.display="none",document.getElementById("gift-card-cab-image").style.display="block",dojo.removeClass("bps-gc-image-tab-button","selected"),dojo.addClass("cab-gc-image-tab-button","selected"))},gcMobileSlideClose:function(){document.getElementById("BPS_gift_card_help_container").style.width="0",document.getElementById("BPS_gift_card_help_container").style.display="none"},guestOrderLookupModelClose:function(){cursor_clear(),document.getElementById("guestOrderLookupModelContainer").style.display="none"},guestOrderLookupModel:function(){cursor_wait(),document.getElementById("guestOrderLookupModelContainer").style.display="block"},seoToggle:function(){let e=document.getElementById("seoLearnMore");null!==e&&e.classList.contains("inactive")?(e.classList.remove("inactive"),e.classList.add("active")):null!==e&&e.classList.contains("active")&&(e.classList.remove("active"),e.classList.add("inactive"))}});